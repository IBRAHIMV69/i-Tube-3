<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Store</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }

        header {
            background-color: #fff;
            width: 100%;
            padding: 2px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header h1 {
            font-size: 10px;
            color: #333;
            margin: 2;
        }

        .search-container {
            margin: 1px;
        }

        .search-container input {
            padding: 10px;
            font-size: 8px;
            width: 318px;
            border-radius: 12px;
            border: 2px solid #ccc;
        }
        .description {
        display: flex;
            justify-content: center;
            font-size: 0.5rem;
            margin-top: 10px;
            color: #000;
        }
        #social-icons {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        #social-icons a {
            text-decoration: none;
            color: #333;
        }

        #social-icons img {
            width: 15px;
            height: 15px;
        }

        #search-bar {
            display: flex;
            justify-content: center;
            margin: 1px;
        }

        #search-input {
            width: 90%;
            height: 10%;
            padding: 5px;
            font-size: 12px;
            border: 2px solid #ccc;
            border-radius: 8px;
        }

        #frames-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* 3 columns by default */
            gap: 4px;
            max-width: 1000px;
            padding: 7px;
            box-sizing: border-box;
        }

        .frame {
            width: 100%; /* Full width of the grid column */
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            text-align: center;
        }

        .frame img {
            width: 100%;
            aspect-ratio: 16 / 23; /* Maintain consistent image proportions */
            object-fit: cover;
            cursor: pointer;
        }

        .frame .content {
            padding: 2px;
        }

        .frame .content h2 {
            font-size: 0.1px; /* Adjusted font size */
            margin: 0 0 8px;
            color: #333;
        }

        .frame .content p {
            font-size: 0.5px;
            margin: 5px 0;
            color: #555;
        }

        .frame .content button {
            background-color: #FF0000;
            border: 1px solid #ccc;
            padding: 1px 40px;
            font-size: 8px; /* Adjusted font size */
            color: #fff;
            border-radius: 8px;
            cursor: pointer;
        }

        .frame .content button:hover {
            background-color: #FF0000;
        }

        @media (max-width: 200px) {
            #frames-container {
                grid-template-columns: 1fr; /* Single column layout for smaller screens */
            }
        }

        /* Custom Message Box */
        .message-box {
            position: fixed;
            border: 1px solid #ccc;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            text-align: center;
            padding: 10px;
            z-index: 2000;
            display: none;
        }

        .message-box p {
            margin: 0 0 8px 0;
            font-size: 9px;
            color: #333;
        }

        .message-box button {
            padding: 5px 20px;
            background-color: #FF0000;
            border: 1px solid #ccc;
            color: #fff;
            font-size: 10px;
            border-radius: 6px;
            cursor: pointer;
        }

        /* Nav Styles */
        nav {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
            text-align: center;
        }

        nav iframe {
            width: 100%;
            height: 100%;
            border: none;
            margin-bottom: 20px;
        }

        nav button {
            padding: 5px 10px;
            background-color: #ff9900;
            border: none;
            color: white;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
        }

        nav button:hover {
            background-color: #e68a00;
        }

        nav .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: red;
        }

        #countdown {
            padding: 5px 20px;
            background-color: #ff0000;
            font-size: 20px;
            border-radius: 8px;
            font-weight: bold;
        }
        .url-button {
            padding: 3px 20px;
            border-radius: 8px;
            border: none;
            background: linear-gradient(135deg, #ff6a00, #ee0979);
            color: #fff;
            cursor: pointer;
            margin: 8px;
            text-decoration: none;
            text-align: center;
        }
        .url-button:hover {
            background: linear-gradient(135deg, #ff6a00, #ee0979);
            
            }
        .link-button {
            padding: 0.3px 20px;
            border-radius: 8px;
            border: none;
            background: linear-gradient(135deg, #fff, #fff);
            color: #000;
            cursor: pointer;
            margin: 8px;
            text-decoration: none;
            text-align: center;
        }
        .link-button:hover {
            background: linear-gradient(135deg, #ff6a00, #ee0979);
    </style>
</head>
<body>
    <header>
        <h1><a href="https://drive.google.com/file/d/1Ktc8MKnoc65A2DeVXUpiwV2UixlKbvRW/view?usp=drivesdk" target="_blank" class="url-button">Open App</a></h1>        
        <div id="search-bar">
            <input
                type="text"
                id="search-input"
                placeholder="🔍  Search..."
                oninput="filterFrames()"
            />
        </div>
    </header>

    <div id="frames-container"></div>

    <div class="message-box" id="customMessage">
        <p id="messageText"></p>
        <button onclick="closeCustomMessage()">OK</button>
    </div>

    <nav id="websiteNav">
        <iframe id="websiteFrame" src="" allowfullscreen></iframe>
        <div id="countdown">20</div>
    </nav>

    <nav id="videoNav">
        <button class="close-btn" onclick="closeVideoNav()">✖</button>
        <iframe id="videoFrame" src="" allowfullscreen></iframe>
    </nav>

    <script>
    const data = [
        {
                imgUrl: "https://bit.ly/4gCtC1L",
                websiteUrl: "https://www.profitablecpmrate.com/vuq0mnejn?key=7241c685c3c694f609c9eebacbd85a50",
                videoUrl: "https://youtube.com/embed/ZG6yG8PTmfY",
                title: "APOCALYPSE 2"
            },
            {
                imgUrl: "https://bit.ly/3VRBV13",
                websiteUrl: "https://www.profitablecpmrate.com/vuq0mnejn?key=7241c685c3c694f609c9eebacbd85a50",
                videoUrl: "https://youtube.com/embed/3_i60BLtN_s",
                title: "GUNS OF EDEN"
            },
            {
                imgUrl: "https://bit.ly/4gFznvC",
                websiteUrl: "https://www.profitablecpmrate.com/vuq0mnejn?key=7241c685c3c694f609c9eebacbd85a50",
                videoUrl: "https://youtube.com/embed/SFtKVKoscqA",
                title: "CORA"
            },
            {
                imgUrl: "https://bit.ly/4gDe4dm",
                websiteUrl: "https://www.profitablecpmrate.com/vuq0mnejn?key=7241c685c3c694f609c9eebacbd85a50",
                videoUrl: "https://youtube.com/embed/dLWTkLftll0",
                title: "JACK THE GIANT SLAYER"
            },
            {
                imgUrl: "https://bit.ly/405kXOj",
                websiteUrl: "https://www.profitablecpmrate.com/vuq0mnejn?key=7241c685c3c694f609c9eebacbd85a50",
                videoUrl: "https://youtube.com/embed/CumW3IY1mMg",
                title: "GOD OF WAR"
            },
            {
                imgUrl: "https://bit.ly/4fwBQqK",
                websiteUrl: "https://www.profitablecpmrate.com/yj516zqeuh?key=67623d7811021ba7d072604ff121c586",
                videoUrl: "https://youtube.com/embed/BjkncLAZu80",
                title: "VIKING HUNTRESS"
            },
            {
                imgUrl: "https://bit.ly/3BxGSW6",
                websiteUrl: "https://www.profitablecpmrate.com/yj516zqeuh?key=67623d7811021ba7d072604ff121c586",
                videoUrl: "https://youtube.com/embed/siFLpeqOWDQ",
                title: "KNIGHT OF THE DEAD"
            },
            {
                imgUrl: "https://bit.ly/3ZLSaxS",
                websiteUrl: "https://www.profitablecpmrate.com/yj516zqeuh?key=67623d7811021ba7d072604ff121c586",
                videoUrl: "https://youtube.com/embed/UPjyNg1mKAM",
                title: "JURASSIC TRIANGLE"
            },
            {
                imgUrl: "https://bit.ly/3VSO1am",
                websiteUrl: "https://www.profitablecpmrate.com/yj516zqeuh?key=67623d7811021ba7d072604ff121c586",
                videoUrl: "https://youtube.com/embed/iTNyJse9fdk",
                title: "ALIEN INVASION"
            },
            {
                imgUrl: "https://bit.ly/3Pi2GYX",
                websiteUrl: "https://www.profitablecpmrate.com/yj516zqeuh?key=67623d7811021ba7d072604ff121c586",
                videoUrl: "https://youtube.com/embed/Ma9xquhYyT0",
                title: "GOATMAN"
            }
        ];

    const createFrames = (filteredData = data) => {
        const container = document.getElementById('frames-container');
        container.innerHTML = '';

        filteredData.forEach((item, index) => {
            const isUnlocked = checkUnlockStatus(index);

            const frame = document.createElement('div');
            frame.className = 'frame';

            const img = document.createElement('img');
            img.src = item.imgUrl;
            img.alt = item.title;
            img.onclick = () => {
                if (isUnlocked) {
                    openVideoNav(item.videoUrl);
                } else {
                    showCustomMessage("Please watch ad to unlock the video. click the unlock 🔓 button below.");
                }
            };

            const content = document.createElement('div');
            content.className = 'content';

            const title = document.createElement('h2');
            title.textContent = item.title;

            const button = document.createElement('button');
            button.textContent = isUnlocked ? "Successful" : "Unlock🔒";
            button.disabled = isUnlocked;
            button.onclick = () => openWebsiteNav(item.websiteUrl, index);

            content.appendChild(title);
            content.appendChild(button);
            frame.appendChild(img);
            frame.appendChild(content);
            container.appendChild(frame);
        });
    };

    const checkUnlockStatus = (index) => {
        const unlockData = JSON.parse(localStorage.getItem('unlockedVideos')) || {};
        const videoUnlockTime = unlockData[index];

        if (videoUnlockTime) {
            const currentTime = Date.now();
            const oneHourInMs = 60 * 60 * 1000;

            if (currentTime - videoUnlockTime < oneHourInMs) {
                return true;
            } else {
                delete unlockData[index];
                localStorage.setItem('unlockedVideos', JSON.stringify(unlockData));
                return false;
            }
        }

        return false;
    };

    const unlockVideo = (index) => {
        const unlockData = JSON.parse(localStorage.getItem('unlockedVideos')) || {};
        unlockData[index] = Date.now();
        localStorage.setItem('unlockedVideos', JSON.stringify(unlockData));
        createFrames();
    };

    const showCustomMessage = (message) => {
        const messageBox = document.getElementById('customMessage');
        const messageText = document.getElementById('messageText');

        messageText.textContent = message;
        messageBox.style.display = 'block';
    };

    const closeCustomMessage = () => {
        document.getElementById('customMessage').style.display = 'none';
    };

    const openWebsiteNav = (url, index) => {
        const nav = document.getElementById('websiteNav');
        const iframe = document.getElementById('websiteFrame');
        const countdown = document.getElementById('countdown');

        iframe.src = url;
        nav.style.display = 'flex';

        let timeLeft = 20;
        countdown.textContent = timeLeft;

        const timer = setInterval(() => {
            timeLeft--;
            countdown.textContent = timeLeft;

            if (timeLeft <= 0) {
                clearInterval(timer);
                closeWebsiteNav();
                unlockVideo(index);
            }
        }, 1000);
    };

    const closeWebsiteNav = () => {
        const nav = document.getElementById('websiteNav');
        const iframe = document.getElementById('websiteFrame');

        iframe.src = "";
        nav.style.display = 'none';
    };

    const openVideoNav = (videoUrl) => {
        const nav = document.getElementById('videoNav');
        const iframe = document.getElementById('videoFrame');

        iframe.src = videoUrl;
        nav.style.display = 'flex';
    };

    const closeVideoNav = () => {
        const nav = document.getElementById('videoNav');
        const iframe = document.getElementById('videoFrame');

        iframe.src = "";
        nav.style.display = 'none';
    };

    const filterFrames = () => {
        const searchValue = document.getElementById('search-input').value.toLowerCase();
        const filteredData = data.filter(item =>
            item.title.toLowerCase().includes(searchValue)
        );
        createFrames(filteredData);
    };

    createFrames();
</script>
</body>
</html>
